def dfs_l(s, V, adj_list):
    """ 
    μΈμ ‘ λ¦¬μ¤νΈλ¥Ό μ‚¬μ©ν• DFS νƒμƒ‰ ν•¨μ 
    - s: μ‹μ‘ μ •μ 
    - V: μ •μ  κ°μ
    - adj_list: μΈμ ‘ λ¦¬μ¤νΈ (μ—°κ²° μ •λ³΄)
    """
    visited = [0] * (V + 1)  # λ°©λ¬Έ μ—¬λ¶€ μ²΄ν¬
    stack = []  # λμ•„κ° κ²½λ΅ μ €μ¥ν•  μ¤νƒ
    visited[s] = 1  # μ‹μ‘ μ •μ  λ°©λ¬Έ μ²λ¦¬
    result = [s]  # λ°©λ¬Έν• μ •μ  μμ„ μ €μ¥

    v = s  # ν„μ¬ μ •μ 

    while True:
        for w in sorted(adj_list[v]):  # μ‘μ€ λ²νΈλ¶€ν„° λ°©λ¬Έ (μ¤λ¦„μ°¨μ μ •λ ¬)
            if not visited[w]:  # λ°©λ¬Έν•μ§€ μ•μ€ μ •μ λ§ νƒμƒ‰
                stack.append(v)  # λμ•„μ¬ κ³³ μ €μ¥
                visited[w] = 1  # λ°©λ¬Έ μ²λ¦¬
                result.append(w)  # λ°©λ¬Έ μμ„ μ €μ¥
                v = w  # ν„μ¬ μ •μ  λ³€κ²½
                break
        else:
            if stack:  # λμ•„κ° κ³³μ΄ λ‚¨μ•„ μλ‹¤λ©΄
                v = stack.pop()
            else:  # λμ•„κ° κ³³μ΄ μ—†μΌλ©΄ νƒμƒ‰ μΆ…λ£
                break

    print(*result)  # λ°©λ¬Έν• μ •μ  μ¶λ ¥


# π”Ή μ…λ ¥ μ²λ¦¬
V, E = map(int, input().split())  # μ •μ  κ°μ, κ°„μ„  κ°μ μ…λ ¥
edges = list(map(int, input().split()))  # κ°„μ„  μ •λ³΄ μ…λ ¥

# π”Ή μΈμ ‘ λ¦¬μ¤νΈ μƒμ„±
adj_list = [[] for _ in range(V + 1)]

for i in range(E):
    s, e = edges[i * 2], edges[i * 2 + 1]
    adj_list[s].append(e)
    adj_list[e].append(s)  # λ¬΄ν–¥ κ·Έλν”„μ΄λ―€λ΅ μ–‘λ°©ν–¥ μ¶”κ°€

# π”Ή DFS νƒμƒ‰ μ‹¤ν–‰
dfs_l(1, V, adj_list)
